<!doctype html>

<html lang="en">

<head>
  <title>rlabuonora.com</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Rafael La Buonora" /><meta name="generator" content="Hugo 0.76.5" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <script src="https://kit.fontawesome.com/b76b73e8e8.js" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" />
  <link rel="stylesheet" type="text/css" href="/custom.css" /> <link rel="icon" href="/favicon.png"> 


</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">rlabuonora.com</a>
            </h1>

      <ul id="social-media">
        
        
        
        <li><a href="https://twitter.com/rlabuonora"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
          
        <li><a href="https://github.com/rlabuonora"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a></li>
           
        <li><a href="http://cv.rlabuonora.com"><i class="fas fa-file-alt" aria-hidden="true"></i></a></li>
        
      </ul>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Blog</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/cursos/">
                <i class="fa-li fa  fa-lg"></i><span>Cursos</span>
            </a>
        </li>
        
        <li>
            <a class="" href="/proyectos/">
                <i class="fa-li fa  fa-lg"></i><span>Proyectos</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<article>

    <h1>Feriados en Uruguay</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2021-02-06T00:00:00Z">Feb 6, 2021</time>
        </li>
        

        

        <li>2 minutes read</li>
    </ul>
</aside>

    

    
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>El primero de Mayo conmemoramos el días de los trabajadores. Lamentablemente, este año nos cayó sábado, por lo que nos perdimos el día libre. En este post uso <code>lubridate</code> para visualizar este lamentable fenómeno de la vida labora de este país.</p>
<p>Wikipedia tiene una tabla con los <a href="https://es.wikipedia.org/wiki/D%C3%ADas_feriados_de_Uruguay">feriados en Uruguay</a>. Traté de scrapearla directo con <code>rvest</code> pero la última columna de la tabla da problemas así que copié los datos a mano.</p>
<pre class="r"><code>library(tidyverse)

feriados_tabla &lt;- tibble::tribble(
  ~fecha,       ~nombre,    
  &quot;1 de enero&quot;, &quot;Año Nuevo&quot;,
  &quot;6 de enero&quot;, &quot;Día de los Niños&quot;,
  &quot;19 de abril&quot;, &quot;Desembarco de los Treinta y Tres Orientales&quot;,
  &quot;1 de mayo&quot;,    &quot;Día de los Trabajadores&quot;,
  &quot;18 de mayo&quot;,  &quot;Batalla de Las Piedras&quot;,
  &quot;19 de junio&quot;, &quot;Natalicio de Artigas&quot;,
  &quot;18 de julio&quot;, &quot;Jura de la Constitución&quot;,
  &quot;25 de agosto&quot;,&quot;Declaratoria de la Independencia&quot;, 
  &quot;12 de octubre&quot;, &quot;Día de la Raza&quot;,
  &quot;2 de noviembre&quot;, &quot;Día de los Difuntos&quot;,
  &quot;25 de diciembre&quot;, &quot;Día de la Familia&quot;) %&gt;% 
  # Sacamos &quot; de&quot; para que no moleste a lubridate
  mutate(fecha = str_replace(fecha, &quot; de&quot;, &quot;&quot;))</code></pre>
<div id="parsear-fechas-en-español." class="section level1">
<h1>Parsear fechas (en español).</h1>
<p>En Uruguay hay 11 feriados. Para convertirlas en fechas, usamos <code>expand_grid</code> para combinar las fechas con todos los años entre 2015 y 2030, y para parsear el texto de la fecha usamos <code>readr::parse_date</code>. La función <code>wday</code> nos da el día de la semana en que cae determinada fecha.</p>
<p>Para que <code>parse_date</code> entienda bien el texto de los meses (enero, febrero, etc.) especifico el argumento <code>locale=locale("es")</code>. Para que <code>wday</code> nos de el día de la semana de cada fecha, hay que setear la locale del sistema con <code>Sys.setlocale</code>.</p>
<pre class="r"><code>library(lubridate)

Sys.setlocale(&quot;LC_TIME&quot;, &quot;Spanish_Spain.1252&quot;)</code></pre>
<pre><code>## [1] &quot;Spanish_Spain.1252&quot;</code></pre>
<pre class="r"><code>feriados &lt;- expand_grid(t=2015:2030, fecha=feriados_tabla$fecha) %&gt;% 
  left_join(feriados_tabla, by=&quot;fecha&quot;) %&gt;% 
  mutate(fecha = paste(fecha, t)) %&gt;% 
  mutate(fecha=parse_date(fecha, &quot;%d %B %Y&quot;, locale=locale(&quot;es&quot;))) %&gt;% 
  mutate(wdia=wday(fecha, label=TRUE, abbr=FALSE)) %&gt;% 
  mutate(wdia = stringr::str_to_title(wdia))</code></pre>
</div>
<div id="visualización" class="section level1">
<h1>Visualización</h1>
<p>Ahora una visualización bien simple para ver que nos deparan los próximos años:</p>
<pre class="r"><code>feriados %&gt;% 
  mutate(fin_de_semana = wdia %in% c(&quot;Sábado&quot;, &quot;Domingo&quot;)) %&gt;% 
  count(t, fin_de_semana) %&gt;% 
  ggplot(aes(t, n, fill=fin_de_semana)) + 
  geom_col() + 
  scale_x_continuous(breaks=2015:2030) + 
  theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="/posts/2021-05-06-feriados-en-uruguay/index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Parecería que después de dos años medios 2021 y 2022, en 2023 vamos a tener muy pocos feriados que caen fin de semana y 2024 va a ser nefasto.</p>
</div>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="/posts/vacunas/"><i class="fa fa-chevron-circle-left"></i> Visualizando Homicidios</a>
        </li>
        
        
        <li>
            <a href="/posts/2021-05-06-flujo-de-trabajo-en-git/">Flujo de trabajo en Git <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6>Copyright © 2019 - Rafael La Buonora |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="/index.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>

  
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>



</body>



</html>
